<Window x:Class="PokerTracker2.Dialogs.UpdateDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        Title="Update Available" 
        Height="500" 
        Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="{DynamicResource ApplicationBackgroundBrush}">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="ðŸŽ‰ Update Available!" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"/>
            
            <TextBlock Text="A new version of PokerTracker2 is available for download."
                       FontSize="14"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"/>
        </StackPanel>
        
        <!-- Update Information -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Version Information -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" 
                                   Text="Current Version:" 
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                   Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" 
                                   x:Name="CurrentVersionText"
                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" 
                                   Text="Latest Version:" 
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                   Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" 
                                   x:Name="LatestVersionText"
                                   Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                   FontWeight="SemiBold"/>
                        
                        <TextBlock Grid.Row="2" Grid.Column="0" 
                                   Text="Release Date:" 
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                   Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" 
                                   x:Name="ReleaseDateText"
                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"/>
                    </Grid>
                </Border>
                
                <!-- Release Notes -->
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Release Notes" 
                                   FontWeight="SemiBold"
                                   FontSize="16"
                                   Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                   Margin="0,0,0,10"/>
                        
                        <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="ReleaseNotesText"
                                       TextWrapping="Wrap"
                                       Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                       FontFamily="Consolas"/>
                        </ScrollViewer>
                    </StackPanel>
                </Border>
                
                <!-- Progress Bar (Hidden by default) -->
                <Border x:Name="ProgressPanel" 
                        Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,15"
                        Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock Text="Downloading Update..." 
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                   Margin="0,0,0,10"/>
                        
                        <ui:ProgressRing x:Name="DownloadProgress"
                                         IsIndeterminate="True"
                                         Width="24" 
                                         Height="24"
                                         HorizontalAlignment="Left"/>
                        
                        <TextBlock x:Name="ProgressText"
                                   Text="Preparing download..."
                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Margin="0,20,0,0">
            
            <ui:Button x:Name="RemindLaterButton"
                       Content="Remind Later"
                       Appearance="Secondary"
                       Click="RemindLaterButton_Click"
                       Margin="0,0,10,0"/>
            
            <ui:Button x:Name="UpdateButton"
                       Content="Download &amp; Install Update"
                       Appearance="Primary"
                       Click="UpdateButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
